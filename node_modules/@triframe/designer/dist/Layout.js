var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.useScreenSize=exports.createGrid=exports.Area=exports.Section=exports.Container=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _paper=require("./paper");var _this=this,_jsxFileName="C:\\Users\\Joshua\\My Documents\\development\\triframe\\packages\\designer\\src\\Layout.js";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Container=_react.default.forwardRef(function(_ref,ref){var children=_ref.children,style=_ref.style,slim=_ref.slim,_ref$scrollEventThrot=_ref.scrollEventThrottle,scrollEventThrottle=_ref$scrollEventThrot===void 0?50:_ref$scrollEventThrot,rest=(0,_objectWithoutProperties2.default)(_ref,["children","style","slim","scrollEventThrottle"]);var _useScreenSize=useScreenSize(),width=_useScreenSize.width,height=_useScreenSize.height;var defaultMargin=width>450?50:25;return _react.default.createElement(_reactNative.ScrollView,(0,_extends2.default)({},rest,{scrollEventThrottle:scrollEventThrottle,ref:ref,style:{flex:1},contentContainerStyle:_objectSpread({flexGrow:1,display:'flex',marginLeft:slim?0:defaultMargin,marginRight:slim?0:defaultMargin,paddingBottom:30},style),__self:_this,__source:{fileName:_jsxFileName,lineNumber:10,columnNumber:9}}),_react.default.createElement(_reactNative.View,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:13,columnNumber:13}},_react.default.createElement(_paper.Portal.Host,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:13,columnNumber:19}})),renderChildren(children));});exports.Container=Container;var Section=function Section(_ref2){var children=_ref2.children,style=_ref2.style;return _react.default.createElement(_reactNative.View,{style:_objectSpread({marginTop:10,marginBottom:10},style),__self:_this,__source:{fileName:_jsxFileName,lineNumber:20,columnNumber:5}},renderChildren(children));};exports.Section=Section;var alignment=(0,_defineProperty2.default)({x:{left:{marginRight:'auto'},right:{marginLeft:'auto'},center:{marginRight:'auto',marginLeft:'auto'},justify:{justifyContent:'space-around'}},y:{top:{marginBottom:'auto'},bottom:{marginTop:'auto'},center:{marginTop:'auto',marginBottom:'auto'}}},null,{});var Area=function Area(_ref3){var children=_ref3.children,_ref3$inline=_ref3.inline,inline=_ref3$inline===void 0?false:_ref3$inline,_ref3$alignX=_ref3.alignX,alignX=_ref3$alignX===void 0?null:_ref3$alignX,_ref3$alignY=_ref3.alignY,alignY=_ref3$alignY===void 0?null:_ref3$alignY,_ref3$flex=_ref3.flex,flex=_ref3$flex===void 0?false:_ref3$flex,_ref3$style=_ref3.style,style=_ref3$style===void 0?{}:_ref3$style;return _react.default.createElement(_reactNative.View,{style:_objectSpread(_objectSpread(_objectSpread({flex:flex?1:undefined,flexDirection:inline?'row':undefined},alignment.x[alignX]),alignment.y[alignY]),style),__self:_this,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:5}},renderChildren(children));};exports.Area=Area;var createGrid=function createGrid(sizes){var GridContext=_react.default.createContext({base:12});var Grid=function Grid(_ref4){var children=_ref4.children,_ref4$base=_ref4.base,base=_ref4$base===void 0?12:_ref4$base,_ref4$gutter=_ref4.gutter,gutter=_ref4$gutter===void 0?0.5:_ref4$gutter,_ref4$style=_ref4.style,style=_ref4$style===void 0?{}:_ref4$style;return _react.default.createElement(_reactNative.View,{style:_objectSpread({flexDirection:'row',flexWrap:"wrap",display:"flex"},style),__self:_this,__source:{fileName:_jsxFileName,lineNumber:61,columnNumber:9}},_react.default.createElement(GridContext.Provider,{value:{base:base,gutter:gutter},__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:13}},renderChildren(children)));};var Column=function Column(props){return _react.default.createElement(GridContext.Consumer,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:9}},function(context){return _react.default.createElement(Cell,{props:props,context:context,__self:_this,__source:{fileName:_jsxFileName,lineNumber:70,columnNumber:25}});});};var Cell=function Cell(_ref5){var context=_ref5.context,props=_ref5.props;var base=context.base,gutter=context.gutter;var _useScreenSize2=useScreenSize(),width=_useScreenSize2.width,height=_useScreenSize2.height;var size=1;for(var currentSize in sizes){var threshold=sizes[currentSize];if(props[currentSize]&&(!size||width>threshold)){size=props[currentSize];}}var styles;switch(size){case'fix-bottom':styles=_objectSpread({position:'absolute',width:'100%',top:height*(2/3),height:height/3},props.style);break;default:var _width=100/base*size-gutter*2;styles=_objectSpread({margin:gutter+"%",flex:props.justify?1:null,width:_width+"%"},props.style);break;}return _react.default.createElement(_reactNative.View,{style:styles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:112,columnNumber:13}},renderChildren(props.children));};return{Grid:Grid,Column:Column};};exports.createGrid=createGrid;var useScreenSize=function useScreenSize(){var window=_reactNative.Dimensions.get('window');var _useState=(0,_react.useState)({width:window.width,height:window.height}),_useState2=(0,_slicedToArray2.default)(_useState,2),sizes=_useState2[0],updateSizes=_useState2[1];(0,_react.useEffect)(function(){_reactNative.Dimensions.addEventListener('change',function(_ref6){var window=_ref6.window;updateSizes({width:window.width,height:window.height});});},[]);return sizes;};exports.useScreenSize=useScreenSize;var renderChildren=function renderChildren(children){return children&&typeof children.map=='function'?children.map(renderChildren):typeof children==='string'?_react.default.createElement(_reactNative.Text,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:19}},children):children;};
//# sourceMappingURL=Layout.js.map