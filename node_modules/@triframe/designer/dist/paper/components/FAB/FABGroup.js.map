{"version":3,"sources":["../../../../src/paper/components/FAB/FABGroup.js"],"names":["FABGroup","arguments","state","backdrop","Animated","Value","animations","close","props","onStateChange","open","toggle","prevProps","scale","theme","animation","parallel","timing","toValue","duration","useNativeDriver","stagger","map","reverse","start","actions","icon","onPress","accessibilityLabel","style","fabStyle","visible","testID","colors","labelColor","dark","text","fade","rgb","string","backdropOpacity","interpolate","inputRange","outputRange","opacities","scales","opacity","styles","container","backgroundColor","safeArea","it","i","item","label","transform","color","surface","fab","nextProps","prevState","_","React","Component","displayName","StyleSheet","create","alignItems","absoluteFillObject","justifyContent","marginHorizontal","marginBottom","marginTop","borderRadius","paddingHorizontal","paddingVertical","marginVertical","elevation","flexDirection"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { StyleSheet, Animated, SafeAreaView, TouchableWithoutFeedback, View, } from 'react-native';\r\nimport color from 'color';\r\nimport FAB from './FAB';\r\nimport Text from '../Typography/Text';\r\nimport Card from '../Card/Card';\r\nimport { withTheme } from '../../core/theming';\r\n/**\r\n * A component to display a stack of FABs with related actions in a speed dial.\r\n * To render the group above other components, you'll need to wrap it with the [`Portal`](portal.html) component.\r\n *\r\n * <div class=\"screenshots\">\r\n *   <img src=\"screenshots/fab-group.png\" />\r\n * </div>\r\n *\r\n * ## Usage\r\n * ```js\r\n * import * as React from 'react';\r\n * import { FAB, Portal, Provider } from '../../';\r\n *\r\n * export default class MyComponent extends React.Component {\r\n *   state = {\r\n *     open: false,\r\n *   };\r\n *\r\n *   _onStateChange = ({ open }) => this.setState({ open });\r\n *\r\n *   render() {\r\n *     const { open } = this.state;\r\n *\r\n *     return (\r\n *       <Provider>\r\n *          <Portal>\r\n *            <FAB.Group\r\n *              open={open}\r\n *              icon={open ? 'calendar-today' : 'plus'}\r\n *              actions={[\r\n *                { icon: 'plus', onPress: () => console.log('Pressed add') },\r\n *                { icon: 'star', label: 'Star', onPress: () => console.log('Pressed star')},\r\n *                { icon: 'email', label: 'Email', onPress: () => console.log('Pressed email') },\r\n *                { icon: 'bell', label: 'Remind', onPress: () => console.log('Pressed notifications') },\r\n *              ]}\r\n *              onStateChange={this._onStateChange}\r\n *              onPress={() => {\r\n *                if (open) {\r\n *                  // do something if the speed dial is open\r\n *                }\r\n *              }}\r\n *            />\r\n *          </Portal>\r\n *       </Provider>\r\n *     );\r\n *   }\r\n * }\r\n * ```\r\n */\r\nlet FABGroup = /** @class */ (() => {\r\n    class FABGroup extends React.Component {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.state = {\r\n                backdrop: new Animated.Value(0),\r\n                animations: [],\r\n            };\r\n            this.close = () => this.props.onStateChange({ open: false });\r\n            this.toggle = () => this.props.onStateChange({ open: !this.props.open });\r\n        }\r\n        static getDerivedStateFromProps(nextProps, prevState) {\r\n            return {\r\n                animations: nextProps.actions.map((_, i) => prevState.animations[i] || new Animated.Value(nextProps.open ? 1 : 0)),\r\n            };\r\n        }\r\n        componentDidUpdate(prevProps) {\r\n            if (this.props.open === prevProps.open) {\r\n                return;\r\n            }\r\n            const { scale } = this.props.theme.animation;\r\n            if (this.props.open) {\r\n                Animated.parallel([\r\n                    Animated.timing(this.state.backdrop, {\r\n                        toValue: 1,\r\n                        duration: 250 * scale,\r\n                        useNativeDriver: true,\r\n                    }),\r\n                    Animated.stagger(50 * scale, this.state.animations\r\n                        .map(animation => Animated.timing(animation, {\r\n                        toValue: 1,\r\n                        duration: 150 * scale,\r\n                        useNativeDriver: true,\r\n                    }))\r\n                        .reverse()),\r\n                ]).start();\r\n            }\r\n            else {\r\n                Animated.parallel([\r\n                    Animated.timing(this.state.backdrop, {\r\n                        toValue: 0,\r\n                        duration: 200 * scale,\r\n                        useNativeDriver: true,\r\n                    }),\r\n                    ...this.state.animations.map(animation => Animated.timing(animation, {\r\n                        toValue: 0,\r\n                        duration: 150 * scale,\r\n                        useNativeDriver: true,\r\n                    })),\r\n                ]).start();\r\n            }\r\n        }\r\n        render() {\r\n            const { actions, icon, open, onPress, accessibilityLabel, theme, style, fabStyle, visible, testID, } = this.props;\r\n            const { colors } = theme;\r\n            const labelColor = theme.dark\r\n                ? colors.text\r\n                : color(colors.text)\r\n                    .fade(0.54)\r\n                    .rgb()\r\n                    .string();\r\n            const backdropOpacity = open\r\n                ? this.state.backdrop.interpolate({\r\n                    inputRange: [0, 0.5, 1],\r\n                    outputRange: [0, 1, 1],\r\n                })\r\n                : this.state.backdrop;\r\n            const opacities = this.state.animations;\r\n            const scales = opacities.map(opacity => open\r\n                ? opacity.interpolate({\r\n                    inputRange: [0, 1],\r\n                    outputRange: [0.8, 1],\r\n                })\r\n                : 1);\r\n            return (<View pointerEvents=\"box-none\" style={[styles.container, style]}>\r\n        <TouchableWithoutFeedback onPress={this.close}>\r\n          <Animated.View pointerEvents={open ? 'auto' : 'none'} style={[\r\n                styles.backdrop,\r\n                {\r\n                    opacity: backdropOpacity,\r\n                    backgroundColor: colors.backdrop,\r\n                },\r\n            ]}/>\r\n        </TouchableWithoutFeedback>\r\n        <SafeAreaView pointerEvents=\"box-none\" style={styles.safeArea}>\r\n          <View pointerEvents={open ? 'box-none' : 'none'}>\r\n            {actions.map((it, i) => (<View key={i} // eslint-disable-line react/no-array-index-key\r\n             style={styles.item} pointerEvents={open ? 'box-none' : 'none'}>\r\n                {it.label && (<Card style={[\r\n                styles.label,\r\n                {\r\n                    transform: [{ scale: scales[i] }],\r\n                    opacity: opacities[i],\r\n                },\r\n            ]} onPress={() => {\r\n                it.onPress();\r\n                this.close();\r\n            }} accessibilityLabel={it.accessibilityLabel !== 'undefined'\r\n                ? it.accessibilityLabel\r\n                : it.label} accessibilityTraits=\"button\" accessibilityComponentType=\"button\" accessibilityRole=\"button\">\r\n                    <Text style={{ color: labelColor }}>{it.label}</Text>\r\n                  </Card>)}\r\n                <FAB small icon={it.icon} color={it.color} style={[\r\n                {\r\n                    transform: [{ scale: scales[i] }],\r\n                    opacity: opacities[i],\r\n                    backgroundColor: theme.colors.surface,\r\n                },\r\n                it.style,\r\n            ]} onPress={() => {\r\n                it.onPress();\r\n                this.close();\r\n            }} accessibilityLabel={typeof it.accessibilityLabel !== 'undefined'\r\n                ? it.accessibilityLabel\r\n                : it.label} accessibilityTraits=\"button\" accessibilityComponentType=\"button\" accessibilityRole=\"button\" testID={it.testID} visible={open}/>\r\n              </View>))}\r\n          </View>\r\n          <FAB onPress={() => {\r\n                onPress?.();\r\n                this.toggle();\r\n            }} icon={icon} color={this.props.color} accessibilityLabel={accessibilityLabel} accessibilityTraits=\"button\" accessibilityComponentType=\"button\" accessibilityRole=\"button\" style={[styles.fab, fabStyle]} visible={visible} testID={testID}/>\r\n        </SafeAreaView>\r\n      </View>);\r\n        }\r\n    }\r\n    FABGroup.displayName = 'FAB.Group';\r\n    return FABGroup;\r\n})();\r\nexport default withTheme(FABGroup);\r\n// @component-docs ignore-next-line\r\nexport { FABGroup };\r\nconst styles = StyleSheet.create({\r\n    safeArea: {\r\n        alignItems: 'flex-end',\r\n    },\r\n    container: {\r\n        ...StyleSheet.absoluteFillObject,\r\n        justifyContent: 'flex-end',\r\n    },\r\n    fab: {\r\n        marginHorizontal: 16,\r\n        marginBottom: 16,\r\n        marginTop: 0,\r\n    },\r\n    backdrop: {\r\n        ...StyleSheet.absoluteFillObject,\r\n    },\r\n    label: {\r\n        borderRadius: 5,\r\n        paddingHorizontal: 12,\r\n        paddingVertical: 6,\r\n        marginVertical: 8,\r\n        marginHorizontal: 16,\r\n        elevation: 2,\r\n    },\r\n    item: {\r\n        marginHorizontal: 24,\r\n        marginBottom: 16,\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n    },\r\n});\r\n"],"file":"FABGroup.js"}