{"version":3,"sources":["../../../src/paper/components/CrossFadeIcon.js"],"names":["CrossFadeIcon","arguments","state","currentIcon","props","source","previousIcon","fade","Animated","Value","_","prevState","scale","theme","animation","setValue","timing","duration","toValue","useNativeDriver","start","color","size","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","nextProps","nextState","React","Component","StyleSheet","create","alignItems","justifyContent","position","top","left","right","bottom"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Animated, StyleSheet, View } from 'react-native';\r\nimport Icon, { isValidIcon, isEqualIcon } from './Icon';\r\nimport { withTheme } from '../core/theming';\r\nclass CrossFadeIcon extends React.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            currentIcon: this.props.source,\r\n            previousIcon: null,\r\n            fade: new Animated.Value(1),\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(nextProps, nextState) {\r\n        if (nextState.currentIcon === nextProps.source) {\r\n            return null;\r\n        }\r\n        return {\r\n            currentIcon: nextProps.source,\r\n            previousIcon: nextState.currentIcon,\r\n        };\r\n    }\r\n    componentDidUpdate(_, prevState) {\r\n        const { previousIcon } = this.state;\r\n        const { theme: { animation: { scale }, }, } = this.props;\r\n        if (!isValidIcon(previousIcon) ||\r\n            isEqualIcon(previousIcon, prevState.previousIcon)) {\r\n            return;\r\n        }\r\n        this.state.fade.setValue(1);\r\n        Animated.timing(this.state.fade, {\r\n            duration: scale * 200,\r\n            toValue: 0,\r\n            useNativeDriver: false,\r\n        }).start();\r\n    }\r\n    render() {\r\n        const { color, size } = this.props;\r\n        const opacityPrev = this.state.fade;\r\n        const opacityNext = this.state.previousIcon\r\n            ? this.state.fade.interpolate({\r\n                inputRange: [0, 1],\r\n                outputRange: [1, 0],\r\n            })\r\n            : 1;\r\n        const rotatePrev = this.state.fade.interpolate({\r\n            inputRange: [0, 1],\r\n            outputRange: ['-90deg', '0deg'],\r\n        });\r\n        const rotateNext = this.state.previousIcon\r\n            ? this.state.fade.interpolate({\r\n                inputRange: [0, 1],\r\n                outputRange: ['0deg', '-180deg'],\r\n            })\r\n            : '0deg';\r\n        return (<View style={[\r\n            styles.content,\r\n            {\r\n                height: size,\r\n                width: size,\r\n            },\r\n        ]}>\r\n        {this.state.previousIcon ? (<Animated.View style={[\r\n            styles.icon,\r\n            {\r\n                opacity: opacityPrev,\r\n                transform: [{ rotate: rotatePrev }],\r\n            },\r\n        ]}>\r\n            <Icon source={this.state.previousIcon} size={size} color={color}/>\r\n          </Animated.View>) : null}\r\n        <Animated.View style={[\r\n            styles.icon,\r\n            {\r\n                opacity: opacityNext,\r\n                transform: [{ rotate: rotateNext }],\r\n            },\r\n        ]}>\r\n          <Icon source={this.state.currentIcon} size={size} color={color}/>\r\n        </Animated.View>\r\n      </View>);\r\n    }\r\n}\r\nexport default withTheme(CrossFadeIcon);\r\nconst styles = StyleSheet.create({\r\n    content: {\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    icon: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n    },\r\n});\r\n"],"file":"CrossFadeIcon.js"}