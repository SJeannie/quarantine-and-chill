{"version":3,"sources":["../../../../src/paper/components/Appbar/Appbar.js"],"names":["DEFAULT_APPBAR_HEIGHT","Appbar","props","children","dark","style","theme","rest","colors","isDarkTheme","mode","StyleSheet","flatten","customBackground","backgroundColor","elevation","restStyle","isDark","surface","primary","isLight","shouldCenterContent","shouldAddLeftSpacing","shouldAddRightSpacing","Platform","OS","hasAppbarContent","leftItemsCount","rightItemsCount","React","Children","forEach","child","isValidElement","type","AppbarContent","styles","appbar","spacing","toArray","filter","map","i","AppbarAction","AppbarBackAction","includes","color","white","black","marginLeft","alignItems","cloneElement","Component","Content","Action","BackAction","Header","AppbarHeader","create","height","flexDirection","paddingHorizontal","width"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { View, Platform, StyleSheet } from 'react-native';\r\nimport color from 'color';\r\nimport AppbarContent from './AppbarContent';\r\nimport AppbarAction from './AppbarAction';\r\nimport AppbarBackAction from './AppbarBackAction';\r\nimport AppbarHeader from './AppbarHeader';\r\nimport Surface from '../Surface';\r\nimport { withTheme } from '../../core/theming';\r\nimport { black, white } from '../../styles/colors';\r\nimport overlay from '../../styles/overlay';\r\nexport const DEFAULT_APPBAR_HEIGHT = 56;\r\n\r\nclass Appbar extends React.Component {\r\n    render() {\r\n        const { children, dark, style, theme, ...rest } = this.props;\r\n        const { colors, dark: isDarkTheme, mode } = theme;\r\n        const { backgroundColor: customBackground, elevation = 4, ...restStyle } = StyleSheet.flatten(style) || {};\r\n        let isDark;\r\n        const backgroundColor = customBackground\r\n            ? customBackground\r\n            : isDarkTheme && mode === 'adaptive'\r\n                ? overlay(elevation, colors.surface)\r\n                : colors.primary;\r\n        if (typeof dark === 'boolean') {\r\n            isDark = dark;\r\n        }\r\n        else {\r\n            isDark =\r\n                backgroundColor === 'transparent'\r\n                    ? false\r\n                    : !color(backgroundColor).isLight();\r\n        }\r\n        let shouldCenterContent = false;\r\n        let shouldAddLeftSpacing = false;\r\n        let shouldAddRightSpacing = false;\r\n        if (Platform.OS === 'ios') {\r\n            let hasAppbarContent = false;\r\n            let leftItemsCount = 0;\r\n            let rightItemsCount = 0;\r\n            React.Children.forEach(children, child => {\r\n                if (React.isValidElement(child)) {\r\n                    if (child.type === AppbarContent) {\r\n                        hasAppbarContent = true;\r\n                    }\r\n                    else if (hasAppbarContent) {\r\n                        rightItemsCount++;\r\n                    }\r\n                    else {\r\n                        leftItemsCount++;\r\n                    }\r\n                }\r\n            });\r\n            shouldCenterContent =\r\n                hasAppbarContent && leftItemsCount < 2 && rightItemsCount < 2;\r\n            shouldAddLeftSpacing = shouldCenterContent && leftItemsCount === 0;\r\n            shouldAddRightSpacing = shouldCenterContent && rightItemsCount === 0;\r\n        }\r\n        return (<Surface\r\n            style={[{ backgroundColor }, styles.appbar, { elevation }, restStyle]} {...rest}>\r\n            {shouldAddLeftSpacing ? <View style={styles.spacing} /> : null}\r\n            {React.Children.toArray(children)\r\n                .filter(child => child != null && typeof child !== 'boolean')\r\n                .map((child, i) => {\r\n                    if (!React.isValidElement(child) ||\r\n                        ![\r\n                            AppbarContent,\r\n                            AppbarAction,\r\n                            AppbarBackAction,\r\n                        ].includes(child.type)) {\r\n                        return child;\r\n                    }\r\n                    const props = {\r\n                        color: typeof child.props.color !== 'undefined'\r\n                            ? child.props.color\r\n                            : isDark\r\n                                ? white\r\n                                : black,\r\n                    };\r\n                    if (child.type === AppbarContent) {\r\n                        props.style = [\r\n                            // Since content is not first item, add extra left margin\r\n                            i !== 0 && { marginLeft: 8 },\r\n                            shouldCenterContent && { alignItems: 'center' },\r\n                            child.props.style,\r\n                        ];\r\n                    }\r\n                    return React.cloneElement(child, props);\r\n                })}\r\n            {shouldAddRightSpacing ? <View style={styles.spacing} /> : null}\r\n        </Surface>);\r\n    }\r\n}\r\n\r\nAppbar.Content = AppbarContent;\r\n\r\nAppbar.Action = AppbarAction;\r\n\r\nAppbar.BackAction = AppbarBackAction;\r\n\r\nAppbar.Header = AppbarHeader;\r\n\r\nconst styles = StyleSheet.create({\r\n    appbar: {\r\n        height: DEFAULT_APPBAR_HEIGHT,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        paddingHorizontal: 4,\r\n        elevation: 4,\r\n    },\r\n    spacing: {\r\n        width: 48,\r\n    },\r\n});\r\nexport default withTheme(Appbar);\r\n"],"file":"Appbar.js"}