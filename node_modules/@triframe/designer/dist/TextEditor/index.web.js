var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _=require("..");var _this=this,_jsxFileName="C:\\Users\\Joshua\\My Documents\\development\\triframe\\packages\\designer\\src\\TextEditor\\index.web.js";var Cursor=function Cursor(){var _useState=(0,_react.useState)('visible'),_useState2=(0,_slicedToArray2.default)(_useState,2),visibility=_useState2[0],setVisibility=_useState2[1];(0,_react.useEffect)(function(){var interval=setInterval(function(){visibility=visibility=='hidden'?'visible':'hidden';setVisibility(visibility);},500);return function(){return clearInterval(interval);};},[]);return _react.default.createElement("span",{style:{visibility:visibility,borderRightStyle:'solid',borderRightColor:'black',borderRightWidth:'1px'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:16,columnNumber:9}});};var handleKeyPress=function handleKeyPress(){return void 0;};document.addEventListener('keydown',function(e){handleKeyPress(e);});var pressed=false;var focused=true;document.addEventListener('mousedown',function(){pressed=true;});document.addEventListener('mouseup',function(){pressed=false;});document.addEventListener('click',function(e){if(!e.target.dataset.editor){focused=false;}});var _default=function _default(_ref){var document=_ref.document;var setSelection=function setSelection(start,end){focused=true;document.setSelection({start:start,end:end});};var selection=document.selection;handleKeyPress=function handleKeyPress(e){if(!focused)return false;switch(e.key){case'Backspace':document.backspace();break;case'Enter':document.insert("\n");break;case'Control':break;case'Shift':break;default:document.insert(e.key);break;}};return _react.default.createElement("pre",{style:{whiteSpace:'pre-wrap',userSelect:'none',fontSize:'15px'},"data-editor":true,__self:_this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:9}},document.content.map(function(_ref2,index,characters){var symbol=_ref2.symbol,position=_ref2.position,styles=_ref2.styles,id=_ref2.id;var next=characters[index+1]||{position:'end'};return _react.default.createElement("span",{"data-editor":true,key:id,style:styles,onPointerDown:function onPointerDown(e){return setSelection(latterHalfClick(e)?next.position:position,latterHalfClick(e)?next.position:position);},onPointerUp:function onPointerUp(e){return setSelection(selection.start,latterHalfClick(e)?next.position:position);},onMouseEnter:function onMouseEnter(e){return pressed?setSelection(selection.start,latterHalfClick(e)?next.position:position):undefined;},__self:_this,__source:{fileName:_jsxFileName,lineNumber:76,columnNumber:24}},selection.start===selection.end&&selection.start==position?_react.default.createElement(Cursor,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:27}}):null,symbol,selection.start===selection.end&&selection.start==='end'&&index==characters.length-1?_react.default.createElement(Cursor,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:90,columnNumber:27}}):null);}),_react.default.createElement("div",{style:{width:window.innerWidth,height:200},onClick:function onClick(){return setSelection('end','end');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:95,columnNumber:13}}));};exports.default=_default;var latterHalfClick=function latterHalfClick(e){var _e$target$getBounding=e.target.getBoundingClientRect(),x=_e$target$getBounding.x,width=_e$target$getBounding.width;return e.clientX>x+width/2;};window.type=function(time){var sleep=function sleep(time){return new Promise(function(resolve){return setTimeout(resolve,time);});};var phrase=["T","h","e"," ","q","u","i","c","k"," ","b","r","o","w","n"," ","f","o","x"," ","j","u","m","p","e","d"," ","o","v","e","r"," ","t","h","e"," ","l","a","z","y"," ","d","o","g","Enter"];var cont=true;var i=0;;(function _callee(){var keyboardEvent;return _regenerator.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!cont){_context.next=9;break;}keyboardEvent=new Event('keydown');keyboardEvent.key=phrase[i];document.dispatchEvent(keyboardEvent);_context.next=6;return _regenerator.default.awrap(sleep(time));case 6:i=(i+1)%phrase.length;_context.next=0;break;case 9:case"end":return _context.stop();}}},null,null,null,Promise);})();return function(){return cont=false;};};
//# sourceMappingURL=index.web.js.map