{"version":3,"sources":["../../../src/DateTimeInput/__web-components__/input-moment.js"],"names":["state","moment","props","value","DateTime","now","cachedValue","tab","isActive","handleClickTab","e","preventDefault","setState","handleSave","onSave","m","className","prevMonthIcon","nextMonthIcon","minStep","hourStep","onChange","theme","cls","cursor","toFormat","fonts","regular","color","colors","text","Component","defaultProps","label"],"mappings":"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","sourcesContent":["import cx from 'classnames';\r\nimport React, { Component } from 'react';\r\nimport Calendar from './calendar';\r\nimport Time from './time';\r\nimport { TextInput, withTheme } from '../../paper'\r\n// import '../../../less/input-moment.css'\r\nimport { TouchableOpacity, Modal } from '../..';\r\nimport { Area } from '../../Layout';\r\nimport { Button } from '../../Button';\r\nimport { DateTime } from '@triframe/core'\r\nimport { Styles } from './Styles';\r\n\r\n\r\n\r\nexport default withTheme( class InputMoment extends Component {\r\n  static defaultProps = {\r\n    value: DateTime.now(),\r\n    label: 'Date Time Input',\r\n    prevMonthIcon: 'chevron-left',\r\n    nextMonthIcon: 'chevron-right',\r\n    minStep: 1,\r\n    hourStep: 1\r\n  };\r\n\r\n  state = {\r\n    moment:  this.props.value === null ? DateTime.now() : this.props.value,\r\n    cachedValue: this.props.value === null ? DateTime.now() : this.props.value,\r\n    tab: 0,\r\n    isActive: false\r\n  };\r\n\r\n\r\n  componentDidUpdate(){\r\n    if(this.state.cachedValue != this.props.value && this.props.value !== null){\r\n      this.setState({\r\n        cachedValue: this.props.value === null ? DateTime.now() : this.props.value,\r\n        moment: this.props.value === null ? DateTime.now() : this.props.value\r\n      })\r\n    }\r\n  }\r\n\r\n  handleClickTab = (e, tab) => {\r\n    e.preventDefault();\r\n    this.setState({ tab: tab });\r\n  };\r\n\r\n  handleSave = e => {\r\n    e.preventDefault();\r\n    if (this.props.onSave) this.props.onSave();\r\n  };\r\n\r\n  render() {\r\n    const { tab, isActive,  moment: m, } = this.state;\r\n    let {\r\n      className,\r\n      prevMonthIcon,\r\n      nextMonthIcon,\r\n      minStep,\r\n      hourStep,\r\n      onChange,\r\n      value,\r\n      theme,\r\n      ...props\r\n    } = this.props;\r\n    const cls = cx('m-input-moment', className);\r\n    if(value === null) value = DateTime.now()\r\n    return (\r\n      <>\r\n        <Styles />\r\n        <TouchableOpacity style={{ cursor: 'pointer' }} onPress={() => this.setState({ isActive: true })} >\r\n          <TextInput value={(this.state.cachedValue).toFormat('MM/dd/yy hh:mm a')} {...props} />\r\n        </TouchableOpacity>\r\n        <Modal visible={isActive} onDismiss={() => this.setState({ isActive: false })}>\r\n          <Area alignX=\"center\">\r\n            <div className={cls} >\r\n              <div className=\"options\">\r\n                <button\r\n                  type=\"button\"\r\n                  style={{\r\n                    ...theme.fonts.regular,\r\n                    color: tab === 0 ? 'white' : theme.colors.text\r\n                  }}\r\n                  className={cx('ion-calendar im-btn', { 'is-active': tab === 0 })}\r\n                  onClick={e => this.handleClickTab(e, 0)}\r\n                >\r\n                  Date\r\n              </button>\r\n                <button\r\n                  type=\"button\"\r\n                  style={{\r\n                    ...theme.fonts.regular,\r\n                    color: tab === 1 ? 'white' : theme.colors.text,\r\n                  }}\r\n                  className={cx('ion-clock im-btn', { 'is-active': tab === 1 })}\r\n                  onClick={e => this.handleClickTab(e, 1)}\r\n                >\r\n                  Time\r\n          </button>\r\n              </div>\r\n\r\n              <div className=\"tabs\">\r\n                <Calendar\r\n                  className={cx('tab', { 'is-active': tab === 0 })}\r\n                  moment={m}\r\n                  onChange={moment => this.setState({ moment })}\r\n                  prevMonthIcon={this.props.prevMonthIcon}\r\n                  nextMonthIcon={this.props.nextMonthIcon}\r\n                />\r\n                <Time\r\n                  className={cx('tab', { 'is-active': tab === 1 })}\r\n                  moment={m}\r\n                  minStep={this.props.minStep}\r\n                  hourStep={this.props.hourStep}\r\n                  onChange={moment => this.setState({ moment })}\r\n                />\r\n              </div>\r\n              <Button icon=\"check\" onPress={() => {\r\n                  this.setState({ isActive: false, moment: (this.state.cachedValue) })\r\n                  if(typeof onChange === 'function') onChange(m)\r\n              }}/>\r\n            </div>\r\n          </Area>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n})"],"file":"input-moment.js"}