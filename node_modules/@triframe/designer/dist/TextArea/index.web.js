var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.TextArea=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _this=this,_jsxFileName="C:\\Users\\Joshua\\My Documents\\development\\triframe\\packages\\designer\\src\\TextArea\\index.web.js";var TextInput=_react.default.forwardRef(function(_ref,ref){var value=_ref.value,_onChange=_ref.onChange,$ref=_ref.$ref,rest=(0,_objectWithoutProperties2.default)(_ref,["value","onChange","$ref"]);var _useState=(0,_react.useState)({value:value,key:1}),_useState2=(0,_slicedToArray2.default)(_useState,1),cached=_useState2[0];if(value!==cached.value)cached.key=cached.key+1;return _react.default.createElement(_reactNative.TextInput,(0,_extends2.default)({ref:ref,key:cached.key,defaultValue:value,onChange:function onChange(e){cached.value=e.target.value;if(_onChange)_onChange(e);}},rest,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:7,columnNumber:12}}));});var sizingProps=['borderBottomWidth','borderLeftWidth','borderRightWidth','borderTopWidth','boxSizing','fontFamily','fontSize','fontStyle','fontWeight','letterSpacing','lineHeight','paddingBottom','paddingLeft','paddingRight','paddingTop','tabSize','textIndent','textRendering','textTransform','width'];var createHiddenNode=function createHiddenNode(ref){var hiddenArea=document.createElement('textarea');(0,_extends2.default)(hiddenArea.style,{'min-height':'0','max-height':'none',visibility:'hidden',overflow:'hidden',position:'absolute','z-index':'-1000',top:'0',right:'0',height:'auto'});if(ref){var styles=window.getComputedStyle(ref);sizingProps.forEach(function(key){hiddenArea.style[key]=styles[key];});}document.body.append(hiddenArea);return hiddenArea;};var TextArea=_react.default.forwardRef(function(_ref2,ref){var value=_ref2.value,onChange=_ref2.onChange,onChangeText=_ref2.onChangeText,props=(0,_objectWithoutProperties2.default)(_ref2,["value","onChange","onChangeText"]);var element=_react.default.createRef();var _useState3=(0,_react.useState)(null),_useState4=(0,_slicedToArray2.default)(_useState3,2),hiddenArea=_useState4[0],setHiddenArea=_useState4[1];_react.default.useImperativeHandle(ref,function(){return{focus:function focus(){element.current.focus();}};});(0,_react.useEffect)(function(){setHiddenArea(createHiddenNode(element.current._node));},[]);if(hiddenArea)hiddenArea.value=value;var height=hiddenArea?hiddenArea.scrollHeight:'auto';return _react.default.createElement(TextInput,(0,_extends2.default)({ref:element,style:{width:'100%',height:height,overflow:'hidden'},multiline:true,value:value,onChangeText:onChange||onChangeText},props,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:90,columnNumber:9}}));});exports.TextArea=TextArea;
//# sourceMappingURL=index.web.js.map