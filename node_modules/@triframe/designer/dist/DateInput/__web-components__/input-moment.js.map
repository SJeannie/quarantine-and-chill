{"version":3,"sources":["../../../src/DateInput/__web-components__/input-moment.js"],"names":["InputMoment","state","moment","props","value","DateTime","now","cachedValue","tab","isActive","handleClickTab","e","preventDefault","setState","handleSave","onSave","m","className","prevMonthIcon","nextMonthIcon","minStep","hourStep","onChange","cls","cursor","toFormat","Component","defaultProps","label"],"mappings":"k5BAAA,8DACA,qDACA,4DACA,kCAEA,uBACA,oCACA,oCACA,oCACA,gC,o1BAEqBA,CAAAA,W,4VAUnBC,K,CAAQ,CACNC,MAAM,CAAG,MAAKC,KAAL,CAAWC,KAAX,GAAqB,IAArB,CAA4BC,eAASC,GAAT,EAA5B,CAA6C,MAAKH,KAAL,CAAWC,KAD3D,CAENG,WAAW,CAAE,MAAKJ,KAAL,CAAWC,KAAX,GAAqB,IAArB,CAA4BC,eAASC,GAAT,EAA5B,CAA6C,MAAKH,KAAL,CAAWC,KAF/D,CAGNI,GAAG,CAAE,CAHC,CAINC,QAAQ,CAAE,KAJJ,C,OAiBRC,c,CAAiB,SAACC,CAAD,CAAIH,GAAJ,CAAY,CAC3BG,CAAC,CAACC,cAAF,GACA,MAAKC,QAAL,CAAc,CAAEL,GAAG,CAAEA,GAAP,CAAd,EACD,C,OAEDM,U,CAAa,SAAAH,CAAC,CAAI,CAChBA,CAAC,CAACC,cAAF,GACA,GAAI,MAAKT,KAAL,CAAWY,MAAf,CAAuB,MAAKZ,KAAL,CAAWY,MAAX,GACxB,C,mHAjBmB,CAClB,GAAG,KAAKd,KAAL,CAAWM,WAAX,EAA0B,KAAKJ,KAAL,CAAWC,KAAxC,CAA8C,CAC5C,KAAKS,QAAL,CAAc,CACZN,WAAW,CAAE,KAAKJ,KAAL,CAAWC,KADZ,CAEZF,MAAM,CAAG,KAAKC,KAAL,CAAWC,KAFR,CAAd,EAID,CACF,C,uCAYQ,iCACgC,KAAKH,KADrC,CACCO,GADD,aACCA,GADD,CACMC,QADN,aACMA,QADN,CACyBO,CADzB,aACiBd,MADjB,iBAWH,KAAKC,KAXF,CAGLc,SAHK,aAGLA,SAHK,CAILC,aAJK,aAILA,aAJK,CAKLC,aALK,aAKLA,aALK,CAMLC,OANK,aAMLA,OANK,CAOLC,QAPK,aAOLA,QAPK,CAQLC,QARK,aAQLA,QARK,CASLlB,KATK,aASLA,KATK,CAUFD,KAVE,0IAYP,GAAMoB,CAAAA,GAAG,CAAG,wBAAG,gBAAH,CAAqBN,SAArB,CAAZ,CACA,GAAGb,KAAK,GAAK,IAAb,CAAmBA,KAAK,CAAGC,eAASC,GAAT,EAAR,CAEnB,MACE,2DACA,6BAAC,cAAD,6EADA,CAEE,6BAAC,kBAAD,EAAkB,KAAK,CAAE,CAAEkB,MAAM,CAAE,SAAV,CAAzB,CAAgD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACX,QAAL,CAAc,CAAEJ,QAAQ,CAAE,IAAZ,CAAd,CAAN,EAAzD,4EACE,6BAAC,gBAAD,wBAAW,KAAK,CAAG,KAAKR,KAAL,CAAWM,WAAZ,CAAyBkB,QAAzB,CAAkC,UAAlC,CAAlB,EAAsEtB,KAAtE,+EADF,CAFF,CAKE,6BAAC,OAAD,EAAO,OAAO,CAAEM,QAAhB,CAA0B,SAAS,CAAE,2BAAM,CAAA,MAAI,CAACI,QAAL,CAAc,CAAEJ,QAAQ,CAAE,KAAZ,CAAd,CAAN,EAArC,4EACE,6BAAC,YAAD,EAAM,MAAM,CAAC,QAAb,6EACE,oCAAK,SAAS,CAAEc,GAAhB,6EACE,oCAAK,SAAS,CAAC,MAAf,6EACE,6BAAC,iBAAD,EACE,MAAM,CAAEP,CADV,CAEE,QAAQ,CAAE,kBAAAd,MAAM,QAAI,CAAA,MAAI,CAACW,QAAL,CAAc,CAAEX,MAAM,CAANA,MAAF,CAAd,CAAJ,EAFlB,CAGE,aAAa,CAAE,KAAKC,KAAL,CAAWe,aAH5B,CAIE,aAAa,CAAE,KAAKf,KAAL,CAAWgB,aAJ5B,6EADF,CADF,CASE,6BAAC,cAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,OAAO,CAAE,kBAAM,CAClC,MAAI,CAACN,QAAL,CAAc,CAAEJ,QAAQ,CAAE,KAAZ,CAAmBP,MAAM,CAAG,MAAI,CAACD,KAAL,CAAWM,WAAvC,CAAd,EACA,GAAG,MAAOe,CAAAA,QAAP,GAAoB,UAAvB,CAAoCA,QAAQ,CAACN,CAAD,CAAR,CACrC,CAHD,6EATF,CADF,CADF,CALF,CADF,CA0BD,C,yBA9EsCU,gB,8BAApB1B,W,CACZ2B,Y,CAAe,CACpBvB,KAAK,CAAEC,eAASC,GAAT,EADa,CAEpBsB,KAAK,CAAE,YAFa,CAGpBV,aAAa,CAAE,cAHK,CAIpBC,aAAa,CAAE,eAJK,CAKpBC,OAAO,CAAE,CALW,CAMpBC,QAAQ,CAAE,CANU,C","sourcesContent":["import cx from 'classnames';\r\nimport React, { Component } from 'react';\r\nimport Calendar from './calendar';\r\nimport { TextInput } from '../../paper'\r\n// import '../../../less/input-moment.css'\r\nimport { TouchableOpacity, Modal } from '../..';\r\nimport { Area } from '../../Layout';\r\nimport { Button } from '../../Button';\r\nimport { DateTime } from '@triframe/core'\r\nimport { Styles } from './Styles';\r\n\r\nexport default class InputMoment extends Component {\r\n  static defaultProps = {\r\n    value: DateTime.now(),\r\n    label: 'Date Input',\r\n    prevMonthIcon: 'chevron-left',\r\n    nextMonthIcon: 'chevron-right',\r\n    minStep: 1,\r\n    hourStep: 1\r\n  };\r\n\r\n  state = {\r\n    moment:  this.props.value === null ? DateTime.now() : this.props.value,\r\n    cachedValue: this.props.value === null ? DateTime.now() : this.props.value,\r\n    tab: 0,\r\n    isActive: false\r\n  };\r\n\r\n\r\n  componentDidUpdate(){\r\n    if(this.state.cachedValue != this.props.value){\r\n      this.setState({\r\n        cachedValue: this.props.value,\r\n        moment: (this.props.value)\r\n      })\r\n    }\r\n  }\r\n\r\n  handleClickTab = (e, tab) => {\r\n    e.preventDefault();\r\n    this.setState({ tab: tab });\r\n  };\r\n\r\n  handleSave = e => {\r\n    e.preventDefault();\r\n    if (this.props.onSave) this.props.onSave();\r\n  };\r\n\r\n  render() {\r\n    const { tab, isActive,  moment: m, } = this.state;\r\n    let {\r\n      className,\r\n      prevMonthIcon,\r\n      nextMonthIcon,\r\n      minStep,\r\n      hourStep,\r\n      onChange,\r\n      value,\r\n      ...props\r\n    } = this.props;\r\n    const cls = cx('m-input-moment', className);\r\n    if(value === null) value = DateTime.now()\r\n\r\n    return (\r\n      <>\r\n      <Styles />\r\n        <TouchableOpacity style={{ cursor: 'pointer' }} onPress={() => this.setState({ isActive: true })} >\r\n          <TextInput value={(this.state.cachedValue).toFormat('MM/dd/yy')}  {...props} />\r\n        </TouchableOpacity>\r\n        <Modal visible={isActive} onDismiss={() => this.setState({ isActive: false })}>\r\n          <Area alignX=\"center\">\r\n            <div className={cls}>\r\n              <div className=\"tabs\">\r\n                <Calendar\r\n                  moment={m}\r\n                  onChange={moment => this.setState({ moment })}\r\n                  prevMonthIcon={this.props.prevMonthIcon}\r\n                  nextMonthIcon={this.props.nextMonthIcon}\r\n                />\r\n              </div>\r\n              <Button icon=\"check\" onPress={() => {\r\n                this.setState({ isActive: false, moment: (this.state.cachedValue) })\r\n                if(typeof onChange === 'function')  onChange(m)\r\n              }}/>\r\n            </div>\r\n          </Area>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}"],"file":"input-moment.js"}