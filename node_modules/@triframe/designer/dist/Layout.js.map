{"version":3,"sources":["../src/Layout.js"],"names":["Container","React","forwardRef","ref","children","style","slim","scrollEventThrottle","rest","useScreenSize","width","height","defaultMargin","flex","flexGrow","display","marginLeft","marginRight","paddingBottom","renderChildren","Section","marginTop","marginBottom","alignment","x","left","right","center","justify","justifyContent","y","top","bottom","Area","inline","alignX","alignY","undefined","flexDirection","createGrid","sizes","GridContext","createContext","base","Grid","gutter","flexWrap","Column","props","context","Cell","size","currentSize","threshold","styles","position","margin","window","Dimensions","get","updateSizes","addEventListener","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Dimensions, View, ScrollView, Text } from \"react-native\";\r\nimport { Portal } from './paper'\r\n\r\n\r\nexport const Container = React.forwardRef(({ children, style, slim, scrollEventThrottle = 50, ...rest }, ref) => {\r\n    const { width, height } = useScreenSize()\r\n    const defaultMargin = width > 450 ? 50 : 25\r\n    return (\r\n        <ScrollView {...rest} scrollEventThrottle={scrollEventThrottle} ref={ref} style={{ flex: 1 }} contentContainerStyle={{\r\n            flexGrow: 1, display: 'flex', marginLeft: slim ? 0 : defaultMargin, marginRight: slim ? 0 : defaultMargin, paddingBottom: 30, ...style,\r\n        }}>\r\n            <View><Portal.Host /></View>\r\n            {renderChildren(children)}\r\n        </ScrollView>\r\n    )\r\n})\r\n\r\nexport const Section = ({ children, style }) => (\r\n    <View style={{\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        ...style\r\n    }}>\r\n        {renderChildren(children)}\r\n    </View>\r\n)\r\n\r\nconst alignment = {\r\n    x: {\r\n        left: { marginRight: 'auto' },\r\n        right: { marginLeft: 'auto' },\r\n        center: { marginRight: 'auto', marginLeft: 'auto' },\r\n        justify: { justifyContent: 'space-around' }\r\n    },\r\n    y: {\r\n        top: { marginBottom: 'auto' },\r\n        bottom: { marginTop: 'auto' },\r\n        center: { marginTop: 'auto', marginBottom: 'auto' }\r\n    },\r\n    [null]: {}\r\n}\r\n\r\nexport const Area = ({ children, inline = false, alignX = null, alignY = null, flex = false, style = {} }) => (\r\n    <View style={{\r\n        flex: flex ? 1 : undefined,\r\n        flexDirection: inline ? 'row' : undefined,\r\n        ...alignment.x[alignX],\r\n        ...alignment.y[alignY],\r\n        ...style,\r\n    }}>\r\n        {renderChildren(children)}\r\n    </View>\r\n)\r\n\r\nexport const createGrid = sizes => {\r\n\r\n    const GridContext = React.createContext({ base: 12 });\r\n\r\n    const Grid = ({ children, base = 12, gutter = 0.5, style = {} }) => (\r\n        <View style={{ flexDirection: 'row', flexWrap: \"wrap\", display: \"flex\", ...style }} >\r\n            <GridContext.Provider value={{ base, gutter }}>\r\n                {renderChildren(children)}\r\n            </GridContext.Provider>\r\n        </View>\r\n    )\r\n\r\n    const Column = (props) => (\r\n        <GridContext.Consumer>\r\n            {context => <Cell props={props} context={context} />}\r\n        </GridContext.Consumer>\r\n    )\r\n\r\n    const Cell = ({ context, props }) => {\r\n\r\n        const { base, gutter } = context\r\n\r\n        const { width, height } = useScreenSize()\r\n\r\n        let size = 1\r\n        for (let currentSize in sizes) {\r\n            let threshold = sizes[currentSize]\r\n            if (props[currentSize] && (!size || width > threshold)) {\r\n                size = props[currentSize];\r\n            }\r\n        }\r\n\r\n        let styles;\r\n        switch (size) {\r\n            case 'fix-bottom':\r\n                styles = {\r\n                    position: 'absolute',\r\n                    width: '100%',\r\n                    top: height * (2 / 3),\r\n                    height: height / 3,\r\n                    ...props.style\r\n                }\r\n                break;\r\n            default:\r\n                const width = 100 / base * size - (gutter * 2);\r\n                styles = {\r\n                    margin: `${gutter}%`,\r\n                    flex: props.justify ? 1 : null,\r\n                    width: `${width}%`,\r\n                    ...props.style\r\n                    //  height: '100%'\r\n                }\r\n                break;\r\n        }\r\n\r\n        return (\r\n            <View style={styles} >\r\n                {renderChildren(props.children)}\r\n            </View>\r\n        )\r\n    }\r\n\r\n    return { Grid, Column }\r\n\r\n}\r\n\r\n\r\nexport const useScreenSize = () => {\r\n    let window = Dimensions.get('window');\r\n    const [sizes, updateSizes] = useState({\r\n        width: window.width,\r\n        height: window.height\r\n    })\r\n\r\n    useEffect(() => {\r\n        Dimensions.addEventListener('change', ({ window }) => {\r\n            updateSizes({\r\n                width: window.width,\r\n                height: window.height\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    return sizes\r\n}\r\n\r\nlet renderChildren = children => (\r\n    children && typeof children.map == 'function'\r\n        ? children.map(renderChildren)\r\n        : (\r\n            typeof children === 'string'\r\n                ? <Text>{children}</Text>\r\n                : children\r\n        )\r\n)\r\n\r\n"],"file":"Layout.js"}