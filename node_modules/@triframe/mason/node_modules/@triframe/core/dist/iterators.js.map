{"version":3,"sources":["../src/iterators.js"],"names":["Break","entries","object","Object","compose","callbacks","payload","forEach","callback","index","subject","select","coalesceValue","undefined","returnValue","indexOf","key","element","selectionOf","value","each","group","Array","push","unique","array","filter","self","result","map","isArray","values","find","eachSync","mapSync","filterSync","findSync","eachAsync","promises","Promise","all","mapAsync","filterAsync","findAsync","primativeTypes","isPlain","includes","constructor","name","deepMap","obj","deepMerge","obj1","obj2","i","uid","k"],"mappings":"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","sourcesContent":["const Break = '_break'\r\n\r\nconst entries = function (object) {\r\n    if (!object) return []\r\n    return typeof object.entries == 'function' ? object.entries() : Object.entries(object)\r\n}\r\n\r\nconst compose = (...callbacks) => {\r\n    return (payload) => {\r\n        callbacks.forEach(callback => {\r\n            payload = callback(payload)\r\n        })\r\n        return payload\r\n    }\r\n}\r\n\r\n\r\nconst index = function (subject, index = '_id', select = false, coalesceValue = undefined) {\r\n    let returnValue = new Object;\r\n    let indexOf = (typeof index == 'function') ? index : (key, element) => element[index]\r\n    let selectionOf;\r\n    if (typeof select == 'function') selectionOf = select\r\n    else if (select) selectionOf = (key, value) => value[select]\r\n    else selectionOf = (key, value) => value\r\n    each(subject, (key, element) => {\r\n        let index = indexOf(key, element)\r\n        returnValue[index] = selectionOf(key, element);\r\n        if (returnValue[index] === undefined) returnValue[indexOf(element)] = coalesceValue\r\n    })\r\n    return returnValue;\r\n}\r\n\r\nconst group = function (subject, index = '_id', select = false, coalesceValue = undefined) {\r\n    let returnValue = new Object;\r\n    let indexOf = (typeof index == 'function') ? index : (key, element) => element[index]\r\n    let selectionOf;\r\n    if (typeof select == 'function') selectionOf = select\r\n    else if (select) selectionOf = (key, value) => value[select]\r\n    else selectionOf = (key, value) => value\r\n    each(subject, (key, element) => {\r\n        let index = indexOf(key, element)\r\n        returnValue[index] = returnValue[index] || new Array\r\n        returnValue[index].push(selectionOf(key, element) || coalesceValue)\r\n    })\r\n    return returnValue;\r\n}\r\n\r\nconst unique = function (array) {\r\n    return array.filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    })\r\n}\r\n\r\n\r\n// Primary Iterators\r\nconst each = function (object = new Object, callback) {\r\n    for (const [index, element] of entries(object)) {\r\n        let result = callback(index, element, object);\r\n        if (result === Break) break;\r\n    }\r\n}\r\n\r\nconst map = function (object, callback) {\r\n    let returnValue = new Object\r\n    each(object, (key, value) => {\r\n        returnValue[key] = callback(key, value, object)\r\n    })\r\n    return Array.isArray(object) ? Object.values(returnValue) : returnValue\r\n}\r\n\r\nconst filter = function (object, callback = (key, value) => value) {\r\n    let returnValue = new Object\r\n    each(object, (key, value) => {\r\n        if (callback(key, value, object)) returnValue[key] = value\r\n    })\r\n    return returnValue\r\n}\r\n\r\nconst find = function (object, callback) {\r\n    let result = null\r\n    each(object, (key, value) => {\r\n        if (callback(key, value, object)) {\r\n            result = value\r\n            return Break\r\n        }\r\n    })\r\n    return result;\r\n}\r\n\r\n// Synchronous Primary Iterators\r\n\r\nconst eachSync = async function (object, callback) {\r\n    for (const [index, element] of entries(object)) {\r\n        let result = await callback(index, element, object);\r\n        if (result === Break) break;\r\n    }\r\n}\r\n\r\nconst mapSync = async function (object, callback) {\r\n    let returnValue = new Object\r\n    await eachSync(object, async (key, value) => {\r\n        returnValue[key] = await callback(key, value, object)\r\n    })\r\n    return returnValue\r\n}\r\n\r\nconst filterSync = async function (object, callback) {\r\n    let returnValue = new Object\r\n    await eachSync(object, async (key, value) => {\r\n        if (await callback(key, value, object)) returnValue[key] = value\r\n    })\r\n    return returnValue\r\n}\r\n\r\nconst findSync = async function (object, callback) {\r\n    let result = null\r\n    await eachSync(object, async (key, value) => {\r\n        if (await callback(key, value, object)) {\r\n            result = value\r\n            return Break\r\n        }\r\n    })\r\n    return result;\r\n}\r\n\r\n// Asynchronous Primary Iterators\r\n\r\nconst eachAsync = async function (object = new Object, callback) {\r\n    let promises = new Array\r\n    for (const [index, element] of entries(object)) {\r\n        promises.push(callback(index, element, object));\r\n    }\r\n    await Promise.all(promises)\r\n}\r\n\r\nconst mapAsync = async function (object, callback) {\r\n    let promises = new Array\r\n    let returnValue = new Object\r\n    each(object, (key, value) => {\r\n        promises.push((async () => returnValue[key] = await callback(key, value, object))())\r\n    })\r\n    await Promise.all(promises)\r\n    return returnValue\r\n}\r\n\r\nconst filterAsync = async function (object, callback) {\r\n    let promises = new Array\r\n    let returnValue = new Object\r\n    each(object, (key, value) => {\r\n        promises.push((async () => {\r\n            if (await callback(key, value, object)) returnValue[key] = value\r\n        })())\r\n    })\r\n    await Promise.all(promises)\r\n    return returnValue\r\n}\r\n\r\nconst findAsync = async function (object, callback) {\r\n    let promises = new Array\r\n    let result = null\r\n    each(object, (key, value) => {\r\n        promises.push((async () => {\r\n            if (await callback(key, value, object) && result === null) result = value\r\n        })())\r\n    })\r\n    await Promise.all(promises)\r\n    return result;\r\n}\r\n\r\nconst primativeTypes = ['String', 'Boolean', 'Number', 'Date', 'Function']\r\nconst isPlain = value => value && typeof value === 'object' && !primativeTypes.includes(value.constructor.name)\r\n\r\nconst deepMap = (obj, callback) => {\r\n    if (isPlain(obj)) {\r\n        for (let key in obj) {\r\n            obj[key] = deepMap(obj[key], callback)\r\n        }\r\n        return callback(obj)\r\n    } else {\r\n        return obj\r\n    }\r\n}\r\n\r\nfunction deepMerge(obj1, obj2) {\r\n    switch (typeof obj2) {\r\n        case \"object\":\r\n            if(!obj1) return obj1 || obj2\r\n\r\n            if(obj1['[[attributes]]']){\r\n                obj1['[[attributes]]'] = deepMerge(obj1['[[attributes]]'], obj2['[[attributes]]'])\r\n                obj1['[[base]]'] = deepMerge(obj1['[[base]]'], obj2['[[base]]'])\r\n                return obj1\r\n            }\r\n\r\n            if(Array.isArray(obj2)){\r\n                return obj2.map( (obj2, i) => obj1[i] && obj1[i].uid == obj2.uid ? deepMerge( obj1[i], obj2) : obj2)\r\n            }\r\n\r\n            return { ...obj1, ...map(obj2, (k, obj2) => deepMerge(obj1[k], obj2)) }\r\n        case \"undefined\":\r\n            return null; //this is how JSON.stringify behaves for array items\r\n        default:\r\n            return obj2; //no need to clone primitives\r\n    }\r\n}\r\n\r\nexport {\r\n    group, index, \r\n\r\n    each, filter, map, find,\r\n    eachSync, filterSync, mapSync, findSync,\r\n    eachAsync, filterAsync, mapAsync, findAsync,\r\n    \r\n    deepMap, unique, deepMerge\r\n}"],"file":"iterators.js"}